!function e(a,t,r){function o(s,i){if(!t[s]){if(!a[s]){var c="function"==typeof require&&require;if(!i&&c)return c(s,!0);if(n)return n(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=t[s]={exports:{}};a[s][0].call(p.exports,function(e){return o(a[s][1][e]||e)},p,p.exports,e,a,t,r)}return t[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,a,t){!function(){"use strict";var a=e("./modules/map.js"),t=e("./modules/map-search.js"),r=e("./modules/table-nwAve.js"),o=window.location.pathname.split("\\").pop().split("/").pop().split(".")[0];window.GEOHOST="https://geo.fcc.gov/fcc",window.page=""===o||"index"===o?"deployment":o,"deployment"===window.page?$('[href="index.html"]').addClass("active"):$('[href="'+window.page+'.html"]').addClass("active"),$("#map").length>0&&(a.init(),t.init()),$("#table-nwAve").length>0&&r.getData()}()},{"./modules/map-search.js":11,"./modules/map.js":12,"./modules/table-nwAve.js":14}],2:[function(e,a,t){"use strict";var r={labels:["Urban","Rural"],datasets:[{data:[],backgroundColor:["#3D59D7","#71DAD6"]}]},o={init:function(e,a){0!==$("#chartDemog").length&&e!==o.FIPS&&(o.FIPS=e,o.create(a))},create:function(e){function a(e){return null===e?0:(e/i*100).toFixed(2)}var t,o,n,s=[],i=e.pop2015,c=e.urbanpop,l=e.ruralpop;o=a(c),n=a(l),s.push(o),s.push(n),r.datasets[0].data=s,$("#chartDemog").replaceWith('<canvas id="chartDemog" width="350" height="220"></canvas>'),$(".chartjs-hidden-iframe").remove(),t=$("#chartDemog"),new Chart(t,{type:"doughnut",data:r,options:{responsive:!1,legend:{position:"bottom"},tooltips:{callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].data[e.index];return a.labels[e.index]+": "+t+"%"}}}}})}};a.exports=o},{}],3:[function(e,a,t){"use strict";var r={init:function(e){r.data={labels:["All","Urban","Rural","Tribal"],datasets:[{label:"Fixed",data:[],backgroundColor:"#FFE773"},{label:"No Fixed",data:[],backgroundColor:"#6CBCD5"}]},0!==$("#chartFixed").length&&e!==r.FIPS&&(r.FIPS=e,r.getCountyData(e))},getCountyData:function(){var e=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=fcc:bpr_dec2016_county_fnf&maxFeatures=100&outputFormat=application/json&cql_filter=county_fips=%27"+r.FIPS+"%27";$.ajax({type:"GET",url:e}).done(function(e){r.update(e),r.getURData()}).fail(function(){alert("Unable to access county data.")})},getURData:function(){var e=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=bpr_dec2016_county_ur_fnf&maxFeatures=100&outputFormat=application/json&cql_filter=county_fips=%27"+r.FIPS+"%27";$.ajax({type:"GET",url:e}).done(function(e){r.processURData(e),r.getTribalData()}).fail(function(){alert("Unable to access urban and rural data.")})},getTribalData:function(){var e=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=bpr_dec2016_county_tribal_fnf&maxFeatures=100&outputFormat=application/json&cql_filter=county_fips=%27"+r.FIPS+"%27";$.ajax({type:"GET",url:e}).done(function(e){r.update(e),r.display()}).fail(function(){alert("Unable to access tribal data.")})},processURData:function(e){var a=0,t=e.features.length,o={},n={};for(o.features=[],n.features=[];a<t;a++)switch(e.features[a].properties.urban_rural){case"U":o.features.push(e.features[a]);break;case"R":n.features.push(e.features[a])}r.update(o),r.update(n)},update:function(e){var a=0,t=r.data.datasets[0].data,o=r.data.datasets[1].data;if(0===e.features.length)return t.push(0),void o.push(0);for(a=0;a<e.features.length;a++)switch(e.features[a].properties.has_fixed){case 0:o.push(e.features[a].properties.pop_pct.toFixed(2)),100===e.features[a].properties.pop_pct&&t.push(0);break;case 1:t.push(e.features[a].properties.pop_pct.toFixed(2)),100===e.features[a].properties.pop_pct&&o.push(0)}},display:function(){var e;$("#chartFixed").replaceWith('<canvas id="chartFixed" width="350" height="255"></canvas>'),$(".chartjs-hidden-iframe").remove(),e=$("#chartFixed"),r.chart=new Chart(e,{type:"bar",data:r.data,options:{legend:{display:!1},maintainAspectRatio:!0,responsive:!0,scales:{xAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Area"}}],yAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Population"}}]},tooltips:{callbacks:{label:function(e,a){return a.datasets[e.datasetIndex].label+": "+e.yLabel+"%"}}}}})}};a.exports=r},{}],4:[function(e,a,t){"use strict";var r={data:{labels:["All","Urban","Rural","Tribal"],datasets:[{label:"Fixed",data:[],backgroundColor:"#FFE773"},{label:"No Fixed",data:[],backgroundColor:"#6CBCD5"}]},init:function(){0!==$("#chartNWFixed").length&&($(".sect-fixed").on("click",".link-nw",function(e){e.preventDefault(),$("#tabInstructs, #nwFixed").removeClass("hide"),$("#fixed, #provider, #demographics").addClass("hide"),$("#btn-nationLocation").click(),$(".search-field").find("input").val(""),r.data.datasets[0].data=[],r.data.datasets[1].data=[],r.getNWData()}),r.getNWData())},getNWData:function(){var e=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=fcc:bpr_dec2016_nw_fnf&maxFeatures=100&outputFormat=application/json";$.ajax({type:"GET",url:e,success:function(e){r.update(e),r.getUrbanData()}})},getUrbanData:function(){var e=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=bpr_dec2016_nw_ur_fnf&maxFeatures=100&outputFormat=application/json";$.ajax({type:"GET",url:e,success:function(e){r.processURData(e),r.getTribal(e)}})},getTribal:function(){var e=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=bpr_dec2016_nw_tribal_fnf&maxFeatures=100&outputFormat=application/json";$.ajax({type:"GET",url:e,success:function(e){r.update(e),r.display()}})},processURData:function(e){var a=0,t=e.features.length,o={},n={};for(o.features=[],n.features=[];a<t;a++)switch(e.features[a].properties.urban_rural){case"U":o.features.push(e.features[a]);break;case"R":n.features.push(e.features[a])}r.update(o),r.update(n)},update:function(e){var a=r.data.datasets[0].data,t=r.data.datasets[1].data;if(0===e.features.length)return a.push(0),void t.push(0);for(var o=0;o<e.features.length;o++)switch(e.features[o].properties.has_fixed){case 0:t.push(e.features[o].properties.pop_pct.toFixed(2)),100===e.features[o].properties.type_pop_pct&&a.push(0);break;case 1:a.push(e.features[o].properties.pop_pct.toFixed(2)),100===e.features[o].properties.type_pop_pct&&t.push(0)}},display:function(){var e;$("#chartNWFixed").replaceWith('<canvas id="chartNWFixed" width="350" height="255"></canvas>'),$(".chartjs-hidden-iframe").remove(),e=$("#chartNWFixed"),r.chart=new Chart(e,{type:"bar",data:r.data,options:{legend:{display:!1},maintainAspectRatio:!0,responsive:!0,scales:{xAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Area"}}],yAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Population"}}]},tooltips:{callbacks:{label:function(e,a){return a.datasets[e.datasetIndex].label+": "+e.yLabel+"%"}}}}})}};a.exports=r},{}],5:[function(e,a,t){"use strict";var r={init:function(e){r.data={labels:["0.2","10/1","25/3","50/5","100/10"],datasets:[{label:"0",backgroundColor:"#ffffcc",data:[]},{label:"1",backgroundColor:"#fdcc8a",data:[]},{label:"2",backgroundColor:"#fc8d59",data:[]},{label:"3",backgroundColor:"#d7301f",data:[]}]},0!==$("#chartSpeed").length&&e!==r.FIPS&&(r.FIPS=e,$(".sect-speed").on("click",".link-nw",function(){r.init("nw"),$(".sect-speed").addClass("hide"),$(".sect-speedNW").removeClass("hide"),$("#btn-nationLocation").click()}),r.getTech())},getTech:function(){var e=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=bpr_dec2016_refresh_county&maxFeatures=100&outputFormat=application/json&cql_filter=county_fips=%27"+r.FIPS+"%27",a=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=bpr_dec2016_refresh_nation&maxFeatures=100&outputFormat=application/json";$.ajax({type:"GET",url:"nw"===r.FIPS?a:e}).done(function(e){r.update(e),r.display()}).fail(function(){alert("Unable to access chart data.")})},update:function(e){var a=e.features[0].properties,t=["200","10","25","50","100"],o=r.data.datasets,n="",s=0,i=0;for(s=0;s<t.length;s++)!function(e){for(i=0;i<r.data.datasets.length;i++)n="speed_"+t[s]+"_"+i,o[i].data.push((100*a[n]).toFixed(2))}()},display:function(){var e,a;"nw"===r.FIPS?(a="chartSpeedNW",$(".sect-speed").addClass("hide"),$(".sect-speedNW").removeClass("hide")):(a="chartSpeed",$(".sect-speed").removeClass("hide"),$(".sect-speedNW").addClass("hide")),$("#"+a).replaceWith('<canvas id="'+a+'" width="350" height="255"></canvas>'),$(".chartjs-hidden-iframe").remove(),e=$("#"+a),r.chart=new Chart(e,{type:"bar",data:r.data,options:{legend:{display:!1},maintainAspectRatio:!0,responsive:!0,scales:{xAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Speed (Mbps downstream/upstream)"}}],yAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"% Population"},ticks:{max:100,min:0,stepSize:20}}]},tooltips:{callbacks:{title:function(e,a){return"Speed: "+e[0].xLabel+"Mbps/1 Mbps"},label:function(e,a){return"# Providers: "+a.datasets[e.datasetIndex].label},afterLabel:function(e,a){return"Population: "+e.yLabel+"%"}}}}})}};a.exports=r},{}],6:[function(e,a,t){"use strict";var r=e("./validate.js"),o={params:{},hasHash:function(){return!!window.location.hash},get:function(e){var a=decodeURIComponent(location.hash),t=a.match(/lat=([^&]+)/i),o=a.match(/lon=([^&]+)/i),n=a.match(/zoom=([^&]+)/i);null!==t&&null!==o&&null!==n&&r.coord(t[1],o[1],n[1])?(e.lat=t[1].replace(/\+/g,"%20"),e.lon=o[1].replace(/\+/g,"%20"),e.zoom=n[1].replace(/\+/g,"%20")):(e.lat=e.lat,e.lon=e.lon,e.zoom=e.zoom)},update:function(e){e.zoom=e.map.getZoom(),o.params.lat=e.lat,o.params.lon=e.lon,o.params.zoom=e.zoom,window.location.hash=$.param(o.params)},change:function(e){o.get(e)}};a.exports=o},{"./validate.js":17}],7:[function(e,a,t){"use strict";var r={"Fixed broadband 25/3 (Mbps)":{format:"image/png",transparent:!0,layers:"bpr_dec2016_county_layer_fixed",styles:"bpr_layer_fixed_1",color:"#FFE773",zIndex:11},"No fixed broadband 25/3 (Mbps)":{format:"image/png",transparent:!0,layers:"bpr_dec2016_county_layer_nonfixed",styles:"bpr_layer_fixed_0",color:"#6CBCD5",zIndex:12}};a.exports=r},{}],8:[function(e,a,t){"use strict";var r={"No fixed 25 Mbps/3 Mbps providers":{format:"image/png",transparent:!0,layers:"bpr_dec2016_numprov_0",styles:"bpr_dec2016_numprov_0",color:"#ffffcc",zIndex:11},"One fixed 25 Mbps/3 Mbps provider":{format:"image/png",transparent:!0,layers:"bpr_dec2016_numprov_1",styles:"bpr_dec2016_numprov_1",color:"#fdcc8a",zIndex:12},"Two fixed 25 Mbps/3 Mbps providers":{format:"image/png",transparent:!0,layers:"bpr_dec2016_numprov_2",styles:"bpr_dec2016_numprov_2",color:"#fc8d59",zIndex:13},"Three or more fixed 25 Mbps/3 Mbps providers":{format:"image/png",transparent:!0,layers:"bpr_dec2016_numprov_3",styles:"bpr_dec2016_numprov_3",color:"#d7301f",zIndex:14}};a.exports=r},{}],9:[function(e,a,t){"use strict";var r={"No residential services at 200 kbps or above":{format:"image/png",transparent:!0,layers:"bpr_dec2016_speed_lt_200",styles:"bpr_dec2016_speed_lt_200",color:"#ffffcc",zIndex:10},"Residential services of at least 200 kbps":{format:"image/png",transparent:!0,layers:"bpr_dec2016_speed200",styles:"bpr_dec2016_speed200",color:"#c7e9b4",zIndex:11},"Residential broadband of at least 10 Mbps/1 Mbps":{format:"image/png",transparent:!0,layers:"bpr_dec2016_speed10",styles:"bpr_dec2016_speed10",color:"#7fcdbb",zIndex:12},"Residential broadband of at least 25 Mbps/3 Mbps":{format:"image/png",transparent:!0,layers:"bpr_dec2016_speed25",styles:"bpr_dec2016_speed25",color:"#bdd7e7",zIndex:13},"Residential broadband of at least 50 Mbps/5 Mbps":{format:"image/png",transparent:!0,layers:"bpr_dec2016_speed50",styles:"bpr_dec2016_speed50",color:"#3182bd",zIndex:14},"Residential broadband of at least 100 Mbps/10 Mbps":{format:"image/png",transparent:!0,layers:"bpr_dec2016_speed100",styles:"bpr_dec2016_speed100",color:"#08306b",zIndex:15}};a.exports=r},{}],10:[function(e,a,t){"use strict";var r={"No fixed 25 Mbps/3 Mbps providers":{format:"image/png",transparent:!0,layers:"bpr_dec2016_numprov_0",styles:"bpr_dec2016_numprov_0",color:"#ffffcc",zIndex:11},FTTP:{format:"image/png",transparent:!0,layers:"bpr_dec2016_tech_fiber",styles:"bpr_dec2016_tech",color:"#6e016b",zIndex:11},"Cable modem":{format:"image/png",transparent:!0,layers:"bpr_dec2016_tech_cable",styles:"bpr_dec2016_tech",color:"#6e016b",zIndex:12},"DSL (inc. FTTN), other copper":{format:"image/png",transparent:!0,layers:"bpr_dec2016_tech_adsl",styles:"bpr_dec2016_tech",color:"#6e016b",zIndex:13},"Fixed wireless":{format:"image/png",transparent:!0,layers:"bpr_dec2016_tech_fw",styles:"bpr_dec2016_tech",color:"#6e016b",zIndex:14},Other:{format:"image/png",transparent:!0,layers:"bpr_dec2016_tech_other",styles:"bpr_dec2016_tech",color:"#6e016b",zIndex:15}};a.exports=r},{}],11:[function(e,a,t){"use strict";var r=e("./map.js"),o={init:function(){$("#btn-locSearch").on("click","button",o.locChange),$("#btn-coordSearch").on("click","button",o.search_decimal),$("#btn-geoLocation").on("click",o.geoLocation),$("#btn-nationLocation").on("click",function(){r.map.setView([50,-105],3)}),$("#input-search-switch").on("click","a",o.search_switch),$("#location-search").autocomplete({source:function(e,a){var t=e.term;r.geocoder.query(t,function(e,t){for(var r=t.results.features,o=[],n=0;n<r.length;n++)o.push(r[n].place_name);a(o)})},minLength:3,select:function(e,a){setTimeout(function(){o.locChange()},200)},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")}}).keypress(function(e){13===e.which&&o.locChange()}),$("#latitude, #longitude").keypress(function(e){13===e.which&&o.search_decimal()})},locChange:function(){var e=$("#location-search").val();""!==e?r.geocoder.query(e,function(e,a){0!==a.results.features.length?(r.lat=a.latlng[0],r.lon=a.latlng[1],r.getCounty(r.lat,r.lon)):alert("The address provided could not be found. Please enter a new address.")}):alert("Please enter a valid address.")},search_decimal:function(){return r.lat=$("#latitude").val().replace(/ +/g,""),r.lon=$("#longitude").val().replace(/ +/g,""),""===r.lat||""===r.lon?void alert("Please enter a valid latitude and longitude."):r.lat.match(/^-?\d+\.?\d*$/)&&r.lon.match(/^-?\d+\.?\d*$/)?Math.abs(r.lat)>90||Math.abs(r.lon)>180?void alert("Latitude or longitude value is out of range."):void r.getCounty(r.lat,r.lon):void alert("Invalid latitude or longitude value.")},geoLocation:function(){return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var a=e.coords.latitude,t=e.coords.longitude;e.coords.accuracy,r.lat=Math.round(1e6*a)/1e6,r.lon=Math.round(1e6*t)/1e6,r.getCounty(r.lat,r.lon),setTimeout(function(){r.getBlock(r.lat,r.lon)},200)},function(e){alert("Sorry, your current location could not be determined. \nPlease use the search box to enter your location.")}):alert("Sorry, your current location could not be determined. \nPlease use the search box to enter your location."),!1},search_switch:function(e){var a=$(e.currentTarget).data("value");e.preventDefault(),"loc"===a?($("#coord-search, #btn-coordSearch").addClass("hide"),$("#location-search, #btn-locSearch").removeClass("hide"),$("#latitude, #longitude").val(""),$("#btn-label").text("Address")):"latlon-decimal"===a&&($("#coord-search, #btn-coordSearch").removeClass("hide"),$("#location-search, #btn-locSearch").addClass("hide"),$("#location-search").val(""),$('[data-value="latlon-decimal"]').find(".hidden-sm").is(":visible")?$("#btn-label").text("Coordinates"):$("#btn-label").text("Coord."))}};a.exports=o},{"./map.js":12}],12:[function(e,a,t){"use strict";var r,o,n,s,i=e("./hash.js"),c=e("./table-providers.js"),l=e("./table-demographics.js"),p=e("./chart-demographics.js"),d=e("./chart-fixed.js"),u=e("./chart-fixedNationwide.js"),f=e("./chart-speed.js"),b={deployment:e("./layers-deployment.js"),speed:e("./layers-speed.js"),providers:e("./layers-providers.js"),technology:e("./layers-tech.js"),tribal:{format:"image/png",transparent:!0,layers:"bpr_tribal",styles:"bpr_tribal",zIndex:19},urban:{format:"image/png",transparent:!0,layers:"fcc:bpr_county_layer_urban_only",styles:"bpr_layer_urban",zIndex:20}},h={color:"#00f",opacity:.5,fillOpacity:.1,fillColor:"#fff",weight:3},m={features:[]},_={color:"#000",opacity:.5,fillOpacity:.1,fillColor:"#fff",weight:3},g={init:function(){g.mapLayer={},g.lat=38.82,g.lon=-94.96,g.zoom=4,$(window).on("hashchange",i.change),i.change(g),g.createMap(),g.map.on("click",g.update),g.map.on("zoomend",function(){i.update(g)}),i.hasHash()&&(g.getCounty(g.lat,g.lon),g.hashZoom=!0),$(".control-full").on("click","a",function(e){e.preventDefault(),e.stopPropagation(),$("header .container, header .container-fluid, main").toggleClass("container container-fluid").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){g.map.invalidateSize(),$("#table-providers").DataTable().columns.adjust().draw()})})},createMap:function(){var e={},a=window.page;for(var t in g.mapLayer={},g.geoURL=window.GEOHOST+"/gwc/service/wms?tiled=true",L.mapbox.accessToken="pk.eyJ1IjoiZmNjIiwiYSI6InBiaGMyLU0ifQ.LOmVYpUCFv2yWpbvxDdQNg",g.map=L.mapbox.map("map-container").setView([g.lat,g.lon],g.zoom),g.map.attributionControl.addAttribution('<a href="http://fcc.gov">FCC</a>'),e.Street=L.mapbox.styleLayer("mapbox://styles/mapbox/light-v10").addTo(g.map),e.Satellite=L.mapbox.styleLayer("mapbox://styles/mapbox/satellite-streets-v11"),e.Terrain=L.mapbox.styleLayer("mapbox://styles/mapbox/outdoors-v11"),b[a])g.mapLayer[t]=L.tileLayer.wms(g.geoURL,b[a][t]).setZIndex(b[a][t].zIndex).addTo(g.map);g.mapLayer.Tribal=L.tileLayer.wms(g.geoURL,b.tribal).setZIndex(b.tribal.zIndex),g.mapLayer.Urban=L.tileLayer.wms(g.geoURL,b.urban).setZIndex(b.urban.zIndex),L.control.layers(e,{},{position:"topleft"}).addTo(g.map),g.geocoder=L.mapbox.geocoder("mapbox.places-v1"),g.createLegend(a),u.init(),!1===i.hasHash()&&f.init("nw"),$(".leaflet-control-zoom-in, .leaflet-control-zoom-out").click(function(){i.update(g)})},createLegend:function(e){var a="",t=0;for(var r in b[e])a+="<li>",a+='<input id="chk'+t+'" type="checkbox" data-layer="'+r+'" checked> ',a+='<div class="key-symbol" style="background-color:'+b[e][r].color+'"></div> ',a+='<label for="chk'+t+'">'+r+"</label>",a+="</li>",t++;$(".map-legend").find("ul").prepend(a).end().on("click","[type=checkbox]",function(){var e=$(this).attr("data-layer");this.checked?g.mapLayer[e].addTo(g.map):g.map.removeLayer(g.mapLayer[e])}),$("#btn-closeLegend").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(".map-legend").hide("fast")}),$("#btn-openLegend").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(".map-legend").show("fast")})},update:function(e){g.lat=Math.round(1e6*e.latlng.lat)/1e6,g.lon=Math.round(1e6*e.latlng.lng)/1e6,g.getCounty(g.lat,g.lon)},getCounty:function(e,a){var t=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=fcc:bpr_dec2016_county&maxFeatures=1&outputFormat=application/json&cql_filter=contains(geom,%20POINT("+a+"%20"+e+"))";$.ajax({type:"GET",url:t}).done(function(e){g.showCounty(e)}).fail(function(){alert("Unable to access county data.")})},showCounty:function(e){var a;0!==e.features.length?(a=e.features[0].properties,$("#tabInstructs").is(":visible")&&($("#tabInstructs, #nwFixed").addClass("hide"),$("#fixed, #provider, #demographics").removeClass("hide")),"bpr_dec2016_county"===e.features[0].id.replace(/\..*$/,"")&&(g.map.hasLayer(o)&&g.map.removeLayer(o),o=L.mapbox.featureLayer(e).setStyle(h).addTo(g.map),g.hashZoom?(g.map.setView([g.lat,g.lon],g.zoom),g.hashZoom=!1):0!==m.features.length&&m.features[0].properties.county_fips===e.features[0].properties.county_fips||g.map.fitBounds(o.getBounds()),o.on("click",function(e){g.update(e)}),m=e,g.getBlock(g.lat,g.lon),l.create(a),p.init(a.county_fips,a),d.init(a.county_fips),f.init(a.county_fips))):alert("No county data found at the seleted location. Please select a new location.")},getBlock:function(e,a){var t=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=bpr_dec2016&maxFeatures=100&outputFormat=application/json&cql_filter=contains(geom,%20POINT("+a+"%20"+e+"))";$.ajax({type:"GET",url:t}).done(function(e){g.showBlock(e)}).fail(function(){alert("Unable to access block data.")})},showBlock:function(e){var a=e.features[0].properties;s=e,g.map.hasLayer(n)&&g.map.removeLayer(n),n=L.mapbox.featureLayer(s).setStyle(_).addTo(g.map),g.setLocationMarker(g.lat,g.lon),$("[data-fips]").text(a.block_fips),$("[data-rural]").text("R"===a.urban_rural?"Rural":"Urban"),c.getData(a.block_fips),i.update(g)},setLocationMarker:function(e,a){g.map.hasLayer(r)&&g.map.removeLayer(r),(r=L.marker([e,a],{title:""}).addTo(g.map)).on("click",function(e){g.zoomToBlock()})},zoomToBlock:function(){g.map.hasLayer(n)&&g.map.fitBounds(n.getBounds())}};a.exports=g},{"./chart-demographics.js":2,"./chart-fixed.js":3,"./chart-fixedNationwide.js":4,"./chart-speed.js":5,"./hash.js":6,"./layers-deployment.js":7,"./layers-providers.js":8,"./layers-speed.js":9,"./layers-tech.js":10,"./table-demographics.js":13,"./table-providers.js":15}],13:[function(e,a,t){"use strict";var r=e("./utility.js"),o={create:function(e){var a={county_name:e.county_name,state_abbr:e.state_abbr,pop2015:e.pop2015,popdensity:e.popdensity,percapinc:e.percapinc,unspop25_3:e.unspop25_3,per_urbannofixed:e.per_urbannofixed,per_ruralnofixed:e.per_ruralnofixed};for(var t in a)r.isNull(a[t])&&(a[t]="");$("[data-county]").text(a.county_name),$("[data-state]").text(a.state_abbr),$("[data-totalPop]").text(r.formatComma(a.pop2015)),$("[data-popDensity]").text(r.formatComma(a.popdensity)),$("[data-incomeCapita]").text(r.formatComma(a.percapinc)),$("[data-totalPopNoAccess]").text(r.formatComma(a.unspop25_3)),$("[data-urbanPop]").text(r.formatPercent(a.per_urbannofixed)),$("[data-ruralPop]").text(r.formatPercent(a.per_ruralnofixed))}};a.exports=o},{"./utility.js":16}],14:[function(e,a,t){"use strict";var r=e("./utility.js"),o=[{data:"avepop",width:"20%"},{data:"avedensity",width:"20%"},{data:"percapita",width:"20%"},{data:"household",width:"20%"},{data:"poverty",width:"20%"}],n={getData:function(e){var a=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=bpr_dec2016_nw_average&maxFeatures=100&outputFormat=application/json";$("#table-nwAve").DataTable({ajax:{url:a,complete:function(){var e=$("#table-nwAve").find("tbody>tr");e.each(function(e,a){$(a).hasClass("odd")?$(a).prepend('<th class="rowHeading">Without Access</th>'):$(a).prepend('<th class="rowHeading">With Access</th>')}),e.eq(0).before('<tr><th colspan="7" scope="col">United States (All Areas)</th></tr>'),e.eq(1).after('<tr><th class="subHeading" colspan="7" scope="row">Rural Areas</th></tr>'),e.eq(3).after('<tr><th class="subHeading" colspan="7" scope="row">Urban Areas</th></tr>'),e.eq(5).after('<tr><th colspan="7" scope="col">Tribal Lands</th></tr>'),e.eq(7).after('<tr><th class="subHeading" colspan="7" scope="row">Rural Areas</th></tr>'),e.eq(9).after('<tr><th class="subHeading" colspan="7" scope="row">Urban Areas</th></tr>'),e.eq(11).after('<tr><th colspan="7" scope="col">U.S. Territories</th></tr>'),e.eq(13).after('<tr><th class="subHeading" colspan="7" scope="row">Rural Areas</th></tr>'),e.eq(15).after('<tr><th class="subHeading" colspan="7" scope="row">Urban Areas</th></tr>')},dataSrc:n.create},bSort:!1,columns:o,destroy:!0,info:!1,paging:!1,searching:!1})},create:function(e){function a(e){for(s={},c=0;c<e.length;c++){var a=l[i]+"_"+e[c],n=o[c].data;"percap_w"===e[c]||"percap_wo"===e[c]||"hinc_w"===e[c]||"hinc_wo"===e[c]?s[n]="$"+r.formatComma(t[a].toFixed(2)):"povrat_w"===e[c]||"povrat_wo"===e[c]?s[n]=r.formatComma(t[a].toFixed(2))+"%":s[n]=r.formatComma(t[a].toFixed(2))}}var t=e.features[0].properties,n=[],s={},i=0,c=0,l=["us_avg","us_rural_avg","us_urban_avg","tribal_avg","tribal_rural_avg","tribal_urban_avg","terr_avg","terr_rural_avg","terr_urban_avg"],p=["pop_w","popden_w","percap_w","hinc_w","povrat_w"],d=["pop_wo","popden_wo","percap_wo","hinc_wo","povrat_wo"];for(i=0;i<l.length;i++)a(d),n.push(s),a(p),n.push(s);return n}};a.exports=n},{"./utility.js":16}],15:[function(e,a,t){"use strict";var r={getData:function(e){var a=window.GEOHOST+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=fcc:bpr_dec2016_providers&maxFeatures=100&outputFormat=application/json&cql_filter=block_fips=%27"+e+"%27";$("#table-providers").DataTable({ajax:{url:a,dataSrc:r.create},columns:[{data:"providerName"},{data:"tech"},{data:"speedDown"},{data:"speedUp"}],destroy:!0,info:!1,order:[[0,"asc"]],paging:!1,searching:!1,scrollY:"280px",scrollCollapse:!0}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){"#provider"===$(e.target).attr("href")&&$("#table-providers").DataTable().columns.adjust().draw()})},create:function(e){for(var a=e.features,t=[],r=0;r<a.length;r++)t.push({providerName:a[r].properties.dbaname,tech:a[r].properties.technology,speedDown:a[r].properties.download_speed,speedUp:a[r].properties.upload_speed});return t}};a.exports=r},{}],16:[function(e,a,t){"use strict";a.exports={isNull:function(e){return null===e},formatComma:function(e){var a=e.toString().split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a.join(".")},formatPercent:function(e){return(100*e).toFixed(2)+"%"}}},{}],17:[function(e,a,t){"use strict";var r={coord:function(e,a,t){var r=t;return""!==e&&""!==a&&!(!e.match(/^-?\d+\.?\d*$/)||!a.match(/^-?\d+\.?\d*$/))&&!(Math.abs(e)>90||Math.abs(a)>180)&&!(r>15||r<3||isNaN(r))}};a.exports=r},{}]},{},[1]);